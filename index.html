<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>LUMA VPN ‚Äî –≥–µ–π–º–µ—Ä—Å–∫–∏–π VPN</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="color-scheme" content="dark" />
  <style>
    :root{
      --bg1:#2b1157; --bg2:#1b0d3a; --fg:#fff; --mut:#d7ccff;
      --accent:#a855f7; --accent2:#ec4899; --blackish:#0b0b12;
    }
    *{box-sizing:border-box}
    html,body{
      margin:0;
      height:100%;
      background:linear-gradient(180deg,var(--bg1),var(--bg2));
      color:var(--fg);
      font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
    }
    a,button{cursor:pointer}
    .container{max-width:1120px;margin:0 auto;padding:0 16px}
    /* ===== HEADER ===== */
    header{
      position:sticky;
      top:0;
      z-index:30;
      backdrop-filter:blur(6px);
      background:rgba(0,0,0,.35);
    }
    .nav{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:16px;
      padding:12px 0;
    }
    .brand{
      display:flex;
      align-items:center;
      gap:10px;
      text-decoration:none;
      color:#fff;
      flex:0 0 auto;
    }
    .logo{
      width:36px;height:36px;border-radius:10px;
      background:linear-gradient(135deg,#d946ef,#8b5cf6);
      display:grid;place-items:center;font-weight:700;
      box-shadow:0 0 18px rgba(216,70,239,.35);
    }
    .nav > nav{
      display:flex;
      align-items:center;
      gap:14px;
    }
    .nav a{
      color:#eee;
      text-decoration:none;
      opacity:.9;
      white-space:nowrap;
      font-weight:500;
    }
    .nav a:hover{opacity:1}
    .btn{
      background:#fff;
      color:#6b21a8;
      border:0;
      border-radius:12px;
      padding:10px 16px;
      font-weight:700;
      transition:transform .15s ease, filter .2s ease, box-shadow .2s ease;
    }
    .btn.primary{
      background:linear-gradient(135deg,var(--accent),var(--accent2));
      color:#fff;
      box-shadow:0 0 18px rgba(168,85,247,.35);
    }
    .btn.primary:hover{filter:brightness(1.06);box-shadow:0 0 24px rgba(236,72,153,.45)}
    .btn:hover{transform:translateY(-1px)}

    /* ===== HERO ===== */
    .hero{position:relative;overflow:hidden}
    .hero .planet{
      position:absolute;inset:0;opacity:.45;pointer-events:none;
      -webkit-mask-image:linear-gradient(to right, transparent 0%, transparent 48%, black 60%);
      mask-image:linear-gradient(to right, transparent 0%, transparent 48%, black 60%);
    }
    .hero-inner{
      display:grid;
      gap:40px;
      align-items:center;
      padding:64px 0;
    }
    @media(min-width:900px){
      .hero-inner{grid-template-columns:1fr 1fr}
    }
    .pill{
      display:inline-flex;
      gap:10px;
      align-items:center;
      background:rgba(255,255,255,.12);
      border:1px solid rgba(255,255,255,.2);
      color:#fff;
      border-radius:999px;
      padding:6px 12px;
      font-size:14px;
    }
    h1{font-size:56px;line-height:1.05;margin:12px 0 0}
    h2{font-size:36px;margin:0 0 16px}
    .muted{color:var(--mut)}

    /* ===== FORM / DOWNLOAD ===== */
    .form-block{
      background:rgba(0,0,0,.4);
      border:1px solid rgba(255,255,255,.12);
      border-radius:18px;
      padding:20px 18px 20px;
      box-shadow:0 20px 50px rgba(0,0,0,.35);
    }
    .form-grid{display:grid;gap:14px}
    .field{
      display:flex;
      border:1px solid rgba(255,255,255,.25);
      border-radius:12px;
      overflow:hidden;
      background:rgba(0,0,0,.15);
    }
    .field span{
      padding:0 10px;
      background:rgba(255,255,255,.12);
      display:grid;
      place-items:center;
      color:#eee
    }
    .field input{
      all:unset;
      padding:12px;
      color:#fff;
      flex:1;
    }
    .choices{display:flex;gap:10px;flex-wrap:wrap}
    .choice{position:relative}
    .choice input{position:absolute;opacity:0;pointer-events:none}
    .choice label{
      display:flex;align-items:center;gap:8px;
      border:1px solid rgba(255,255,255,.25);
      background:rgba(255,255,255,.08);
      color:#fff;
      padding:10px 14px;
      border-radius:12px;
    }
    .choice input:checked + label{
      border-color:#fff;
      background:linear-gradient(135deg,var(--accent),var(--accent2));
      box-shadow:0 0 18px rgba(168,85,247,.35);
    }
    .xs{font-size:12px;color:#cbd5e1;margin-top:6px}

    /* ===== MODAL ===== */
    .modal{
      position:fixed;
      inset:0;
      background:rgba(8,8,12,.7);
      display:none;
      place-items:center;
      padding:16px;
      z-index:50;
    }
    .modal.open{display:grid;animation:fadeIn .25s ease}
    @keyframes fadeIn{from{opacity:0}to{opacity:1}}
    .sheet{
      max-width:560px;
      width:100%;
      background:#0f0f16;
      color:#f7f7fb;
      border-radius:18px;
      padding:20px;
      border:1px solid rgba(255,255,255,.12);
      box-shadow:0 20px 60px rgba(0,0,0,.6);
    }
    .coupon-wrap{
      display:grid;
      place-items:center;
      background:rgba(255,255,255,.04);
      border:1px solid rgba(255,255,255,.12);
      border-radius:16px;
      padding:22px;
      margin-top:12px;
      animation:popIn .35s cubic-bezier(.2,.8,.2,1) both, pulseGlow 2.2s ease-in-out infinite;
    }
    .coupon{
      font-size:48px;
      font-weight:900;
      letter-spacing:2px;
      color:#fff;
      text-shadow:0 0 6px rgba(168,85,247,.9),0 0 14px rgba(236,72,153,.8),0 0 28px rgba(168,85,247,.6);
    }
    @keyframes popIn{from{transform:scale(.86);opacity:0}to{transform:scale(1);opacity:1}}
    @keyframes pulseGlow{
      0%,100%{box-shadow:0 0 0 0 rgba(168,85,247,0), 0 0 18px 8px rgba(236,72,153,.05)}
      50%{box-shadow:0 0 0 8px rgba(168,85,247,.18), 0 0 28px 12px rgba(236,72,153,.15)}
    }
    .neon-btn{
      background:linear-gradient(135deg,var(--accent),var(--accent2));
      color:#fff;
      border:0;
      border-radius:12px;
      padding:12px 16px;
      font-weight:800;
      box-shadow:0 0 20px rgba(236,72,153,.35);
    }
    .neon-btn:hover{filter:brightness(1.06);box-shadow:0 0 26px rgba(236,72,153,.5)}
    .btn.outline{background:#141420;border:1px solid rgba(255,255,255,.18);color:#fff}

    /* ===== FOOTER ===== */
    footer{
      border-top:1px solid rgba(255,255,255,.12);
      background:rgba(0,0,0,.35);
      padding:24px 0;
      margin-top:40px;
      font-size:14px;
    }

    /* ===== MOBILE FIXES ===== */
    @media(max-width:720px){
      h1{font-size:38px}
      h2{font-size:28px}
      .hero-inner{gap:22px;padding:36px 0}
      /* –º–µ–Ω—é ‚Äî —Å–∫—Ä–æ–ª–ª –≤–±–æ–∫ */
      .nav{gap:10px}
      .nav > nav{
        overflow-x:auto;
        max-width:100%;
        gap:10px;
        scrollbar-width:none;
      }
      .nav > nav::-webkit-scrollbar{display:none}
      .btn.primary{flex:0 0 auto}

      /* –º–æ–¥–∞–ª–∫–∞ ‚Äî –∫–Ω–æ–ø–∫–∏ –∫–æ–ª–æ–Ω–∫–æ–π */
      .row{display:flex;flex-direction:column;gap:10px}
      .row .neon-btn,
      .row .btn.outline{width:100%;text-align:center}
    }
  </style>
</head>
<body>
  <header>
    <div class="container nav">
      <a href="#top" class="brand">
        <div class="logo">VPN</div>
        <div>
          <div style="font-size:14px;font-weight:700">LUMA VPN</div>
          <div style="font-size:12px;opacity:.6">–¥–ª—è –≥–µ–π–º–µ—Ä–æ–≤ –∏ —Ä–∞–±–æ—Ç—ã</div>
        </div>
      </a>
      <nav>
        <a href="#why">–ü–æ—á–µ–º—É –º—ã ‚ú®</a>
        <a href="#plans">–¢–∞—Ä–∏—Ñ—ã üìÑ</a>
        <a href="#how">–ö–∞–∫ –Ω–∞—á–∞—Ç—å üöÄ</a>
        <a href="#download" class="btn primary">–°–∫–∞—á–∞—Ç—å ‚¨áÔ∏è</a>
      </nav>
    </div>
  </header>

  <main id="top">
    <section class="hero">
      <div class="planet"></div>
      <div class="container hero-inner">
        <div>
          <div class="pill">‚ö° –°–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π VPN –ø–æ–¥ RU/UA/EU</div>
          <h1>VPN –±–µ–∑ –ø–æ—Ç–µ—Ä—å<br />–¥–ª—è –∏–≥—Ä –∏ —Ä–∞–±–æ—Ç—ã</h1>
          <p class="muted">–¢—Ä–∞—Ñ–∏–∫ –Ω–µ –ª–æ–≥–∏—Ä—É–µ–º, DNS-—É—Ç–µ—á–µ–∫ –Ω–µ—Ç, –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Telegram-–±–æ—Ç–∞ –∑–∞ 30 —Å–µ–∫—É–Ω–¥.</p>
          <div style="margin-top:18px;display:flex;gap:12px;flex-wrap:wrap">
            <a href="#download" class="btn primary">–ü–æ–ª—É—á–∏—Ç—å –∫—É–ø–æ–Ω üîë</a>
            <a href="#why" class="btn" style="background:rgba(255,255,255,.15);color:#fff">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a>
          </div>
        </div>
        <div class="form-block" id="download">
          <h2 style="margin-bottom:6px">–°–∫–∞—á–∞—Ç—å ‚¨áÔ∏è</h2>
          <p class="muted" style="margin-top:0">–£–∫–∞–∂–∏—Ç–µ Telegram –∏ —Ç–∞—Ä–∏—Ñ. –ü–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∫—É–ø–æ–Ω –∏ –ø–æ–¥–∞—Ä–∏–º 1 –≥–æ–¥.</p>
          <form class="form-grid" onsubmit="return sendForm(event)">
            <label class="field">
              <span>@</span>
              <input required name="username" placeholder="Telegram username" />
            </label>

            <div>
              <p style="margin:0 0 6px">–¢–∞—Ä–∏—Ñ</p>
              <div class="choices">
                <span class="choice">
                  <input type="radio" id="plan-basic" name="plan" value="–û–±—ã—á–Ω—ã–π" checked />
                  <label for="plan-basic">üü£ –û–±—ã—á–Ω—ã–π</label>
                </span>
                <span class="choice">
                  <input type="radio" id="plan-premium" name="plan" value="–ü—Ä–µ–º–∏—É–º" />
                  <label for="plan-premium">üíé –ü—Ä–µ–º–∏—É–º</label>
                </span>
                <span class="choice">
                  <input type="radio" id="plan-biz" name="plan" value="–ë–∏–∑–Ω–µ—Å" />
                  <label for="plan-biz">üíº –ë–∏–∑–Ω–µ—Å</label>
                </span>
              </div>
            </div>

            <button class="btn primary" type="submit" id="submitBtn">
              –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∏ –ø–æ–ª—É—á–∏—Ç—å –∫—É–ø–æ–Ω üßæ
            </button>
            <div class="xs">–ù–∞–∂–∏–º–∞—è –∫–Ω–æ–ø–∫—É, –≤—ã —Å–æ–≥–ª–∞—à–∞–µ—Ç–µ—Å—å —Å –ü–æ–ª–∏—Ç–∏–∫–æ–π –∏ —É—Å–ª–æ–≤–∏—è–º–∏. –ú—ã –Ω–µ —Ö—Ä–∞–Ω–∏–º –∂—É—Ä–Ω–∞–ª—ã —Ç—Ä–∞—Ñ–∏–∫–∞.</div>
          </form>
        </div>
      </div>
    </section>

    <section id="why" class="container" style="margin-top:26px">
      <h2>–ü–æ—á–µ–º—É –º—ã ‚ú®</h2>
      <p class="muted">3 –ø—Ä–∏—á–∏–Ω—ã –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ LUMA VPN</p>
      <div style="display:grid;gap:16px;margin-top:14px">
        <div class="form-block" style="background:rgba(255,255,255,.02)">
          <strong>üöÄ –°–∫–æ—Ä–æ—Å—Ç—å –¥–æ 1 –ì–±–∏—Ç/—Å</strong>
          <p class="muted">–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –µ–≤—Ä–æ–ø–µ–π—Å–∫–∏–µ —É–∑–ª—ã, –Ω–∏–∑–∫–∏–µ –ø–∏–Ω–≥–∏.</p>
        </div>
        <div class="form-block" style="background:rgba(255,255,255,.02)">
          <strong>üõ° –ë–µ–∑ –ª–æ–≥–æ–≤</strong>
          <p class="muted">–ù–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º, –Ω–µ –ø–µ—Ä–µ–¥–∞—ë–º, –Ω–µ –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ–º –∫ –ª–∏—á–Ω–æ—Å—Ç–∏.</p>
        </div>
        <div class="form-block" style="background:rgba(255,255,255,.02)">
          <strong>ü§ñ –ß–µ—Ä–µ–∑ Telegram</strong>
          <p class="muted">–í—Å–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏ –æ–ø–ª–∞—Ç–∞ –ø—Ä—è–º–æ –≤ –±–æ—Ç–µ.</p>
        </div>
      </div>
    </section>

    <section id="plans" class="container" style="margin-top:36px">
      <h2>–¢–∞—Ä–∏—Ñ—ã üìÑ</h2>
      <div style="display:grid;gap:16px;margin-top:14px">
        <div class="form-block">
          <h3>üü£ –û–±—ã—á–Ω—ã–π</h3>
          <p class="muted">1 —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, basic-—Å–∫–æ—Ä–æ—Å—Ç—å</p>
        </div>
        <div class="form-block">
          <h3>üíé –ü—Ä–µ–º–∏—É–º</h3>
          <p class="muted">–¥–æ 5 —É—Å—Ç—Ä–æ–π—Å—Ç–≤, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç</p>
        </div>
        <div class="form-block">
          <h3>üíº –ë–∏–∑–Ω–µ—Å</h3>
          <p class="muted">–ö–æ–º–∞–Ω–¥–∞/–æ—Ñ–∏—Å, –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä–∞</p>
        </div>
      </div>
    </section>

    <section id="how" class="container" style="margin-top:40px">
      <h2>–ö–∞–∫ –Ω–∞—á–∞—Ç—å üöÄ</h2>
      <ol style="padding-left:18px">
        <li>–ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ñ–æ—Ä–º—É –≤—ã—à–µ –∏ –ø–æ–ª—É—á–∏—Ç—å –∫–æ–¥.</li>
        <li>–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥ –≤ Telegram-–±–æ—Ç–∞.</li>
        <li>–ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥ –∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è.</li>
      </ol>
    </section>
  </main>

  <footer>
    <div class="container" style="display:flex;justify-content:space-between;gap:16px;flex-wrap:wrap">
      <div>¬© 2025 LUMA VPN. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</div>
      <div style="opacity:.5">vpnluma.ru</div>
    </div>
  </footer>

  <!-- MODAL -->
  <div class="modal" id="couponModal">
    <div class="sheet">
      <div style="display:flex;justify-content:space-between;gap:8px;align-items:center">
        <h3 style="margin:0">–ó–∞—è–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞! ‚úÖ</h3>
        <button class="btn outline" onclick="closeModal()" style="padding:4px 10px">√ó</button>
      </div>
      <p class="muted" style="margin-top:4px">–í–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –∫–æ–¥:</p>
      <div class="coupon-wrap">
        <div id="couponCode" class="coupon">VPN0000</div>
        <p style="margin-top:10px;text-align:center" class="muted">
          –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–¥ –≤ Telegram-–±–æ—Ç <strong>@vpnluma_bot</strong> –∏ –ø–æ–ª—É—á–∏—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é.
        </p>
      </div>
      <div class="row" style="margin-top:14px">
        <a id="botLink" class="neon-btn" target="_blank" rel="noreferrer">
          –ü–µ—Ä–µ–π—Ç–∏ –∫ –±–æ—Ç—É ü§ñ
        </a>
        <button class="btn outline" onclick="copyCoupon()">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥</button>
      </div>
      <p class="xs" style="margin-top:10px">
        –ö–æ–¥ –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–π –∏ –¥–µ–π—Å—Ç–≤—É–µ—Ç 30 –º–∏–Ω—É—Ç. –ï—Å–ª–∏ –æ–∫–Ω–æ –∑–∞–∫—Ä—ã—Ç–æ ‚Äî –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Ñ–æ—Ä–º—É —Å–Ω–æ–≤–∞.
      </p>
    </div>
  </div>

  <script>
    // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞
    function generateCode(){
      const n = Math.floor(1000 + Math.random()*9000);
      return "VPN" + n;
    }

    async function sendForm(e){
      e.preventDefault();
      const form = e.target;
      const username = form.username.value.trim().replace(/^@/,'');
      const plan = form.plan.value;
      const coupon = generateCode();

      if(!username){
        alert("–í–≤–µ–¥–∏—Ç–µ Telegram username");
        return false;
      }

      const btn = document.getElementById('submitBtn');
      btn.disabled = true;
      btn.textContent = '–û—Ç–ø—Ä–∞–≤–ª—è–µ–º...';

      try{
        const resp = await fetch('/api/notify',{
          method:'POST',
          headers:{'Content-Type':'application/json'},
          body:JSON.stringify({ username, plan, coupon })
        });

        // –¥–∞–∂–µ –µ—Å–ª–∏ –Ω–µ –ø—Ä–∏—à–ª–æ –≤ —Ç–≥ ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–æ–¥
        showModal(coupon, username);
        if(!resp.ok){
          console.warn('notify failed', await resp.text());
        }
      }catch(err){
        console.warn('notify error', err);
        showModal(coupon, username);
      }finally{
        btn.disabled = false;
        btn.textContent = '–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∏ –ø–æ–ª—É—á–∏—Ç—å –∫—É–ø–æ–Ω üßæ';
      }

      return false;
    }

    function showModal(code, username){
      const m = document.getElementById('couponModal');
      document.getElementById('couponCode').textContent = code;
      // –µ—Å–ª–∏ —É —Ç–µ–±—è –±–æ—Ç –¥—Ä—É–≥–æ–π ‚Äî –ø–æ–º–µ–Ω—è–π –∑–¥–µ—Å—å —Å—Å—ã–ª–∫—É
      document.getElementById('botLink').href = 'https://t.me/vpnluma_bot?start=' + code;
      m.classList.add('open');
    }
    function closeModal(){
      document.getElementById('couponModal').classList.remove('open');
    }
    function copyCoupon(){
      const code = document.getElementById('couponCode').textContent;
      navigator.clipboard?.writeText(code);
      alert('–ö–æ–¥ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω: ' + code);
    }
  </script>
</body>
</html>
